# Разбор Auth формы - Пошаговое объяснение

*Сохранено: 2025-09-06*

## Что мы разобрали:

### Шаг 1: Переменные в памяти формы
- `mode` - режим (login/signup/reset)
- `email` - текст из поля email
- `password` - текст из поля пароль  
- `showPassword` - показывать пароль или звездочки
- `loading` - идет ли отправка данных
- `error` - текст ошибки
- `message` - сообщение для пользователя

### Шаг 2: Визуальная структура
- Фон с градиентом
- Белая карточка посередине
- Умный заголовок (меняется по режиму)

### Шаг 3: Поле Email
- Связь с переменной через `value={email}`
- Обновление через `onChange`
- Иконка письма внутри

### Шаг 4: Поле Пароль с "глазком"
- Переключение типа: password/text
- Иконки: глаз открытый/закрытый
- Показывается только если НЕ режим reset

### Шаг 5: Умная кнопка
- Меняет текст по режиму
- Показывает колесо при загрузке
- Блокируется во время отправки

### Шаг 6: Отправка в Supabase
- `signInWithPassword()` - для входа
- `signUp()` - для регистрации
- `resetPasswordForEmail()` - для восстановления

### Шаг 7: Обработка ответов
- Успех → пользователь входит автоматически
- Ошибка "уже зарегистрирован" → переключение на login
- Другие ошибки → показать сообщение
- `finally` → всегда убрать колесо загрузки

---

## Что осталось разобрать:
- [ ] Как показываются ошибки пользователю
- [ ] Переключатели между режимами внизу формы
- [ ] Интеграция с остальным приложением

*Продолжение следует...*